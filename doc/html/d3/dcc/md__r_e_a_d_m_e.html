<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LightweightCString: LightweighCString</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">LightweightCString
   </div>
   <div id="projectbrief">A light-weight C string library.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">LightweighCString </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >A string operation library based on C language. \ It is characterized by lightweight, easy to expand and easy to use. \ It can complete some basic operations on strings.</p>
<ul>
<li>LightweighCString</li>
<li>Overview</li>
<li>Detailed<ul>
<li>String Structure</li>
<li>Initialize the String Structure</li>
<li>Add New Content to the String</li>
<li>Get the Length of the String</li>
<li>Get the content of the String</li>
<li>Clear the Contents of the String</li>
<li>Copy the String</li>
<li>Find the Location of the String</li>
<li>Cut the String within the Specified Range</li>
<li>Replace the Matching String in the Original String with a String</li>
</ul>
</li>
<li>Common Problems<ul>
<li>What happens if OSError is reported?</li>
<li>Why is the value returned by find() a value much larger than the length of the string?</li>
</ul>
</li>
<li>Examples</li>
</ul>
<h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p >This library defines a structure &ndash; <code>string</code>. It records the string content and string length. \ To operate on a string, you must first define a variable of type string. \ At the same time, after using, you need to use <code>free()</code> to process the <code>stringContent</code> in the <code>string</code> structure.</p>
<p >In addition, if your project needs this library, you need to compile it together.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Detailed</h1>
<h2><a class="anchor" id="autotoc_md3"></a>
String Structure</h2>
<p >This structure has two elements &ndash; <code>stringContent</code> and <code>length</code>. \ <code>stringContent</code> is the content of the string and <code>length</code> is the length of the string.</p>
<p >The type of <code>stringContent</code> is <code>char*</code>. After initialization with <code>initString()</code>, <code>stringContent</code> stores the address of the allocated dynamic memory.</p>
<p >The type of <code>length</code> is <code>unsigned int</code>. When formatting the output, you need to use <code>u</code> to print the value of <code>length</code>.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Initialize the String Structure</h2>
<p >After a variable of type string is defined, it needs to be initialized with a specific function. Therefore, use <code>initString()</code> to initialize a variable of type string. \ This function allocates dynamic memory to <code>stringContent</code>, so when a variable of type <code>string</code> is used, be sure to use <code>free()</code> for processing. \ The return solution of a function is a structure of type string. The length of the origin string is 1 because there is only one character '\0' in the string content. \ This function does not pass in arguments.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Add New Content to the String</h2>
<p >There are two functions to add new content to a string: <code>addCharacter()</code> and <code>addString()</code>.</p>
<p >If you only add characters to a string, you can use <code>addCharacter()</code>. This function has no return value, it can be said that its return value is <code>void</code>. \ It requires two parameters: the address of the structure and the characters to be added. \ However, if you want to add a string, in addition to using <code>addCharacter()</code> in the loop, you can also use <code>addString()</code>. This function also has no return value and requires two parameters. \ The two parameters are: the address of the structure and the string content to be added. However, the string to be added is of type <code>char*</code>. You can think of it as the address pointed to by the character pointer, and there is a string at the location of this address.\ The working mechanism of <code>addString()</code> is not to use <code>addCharcater()</code> circularly.</p>
<p >Both <code>addCharacter()</code> and <code>addString()</code> end with '\0'.</p>
<h2><a class="anchor" id="autotoc_md6"></a>
Get the Length of the String</h2>
<p ><code>getLength()</code> is used to get the string length. The type of its return value is <code>unsigned int</code>. It requires one parameter: the address of the structure.</p>
<h2><a class="anchor" id="autotoc_md7"></a>
Get the content of the String</h2>
<p ><code>getString()</code> is used to get the string content. The type of its return value is <code>char*</code>. It requires one parameter: the address of the structure.</p>
<p >It is worth noting that it actually returns the value of <code>stringContent</code>. In other words, it is the same as the value of <code>stringContent</code> &ndash; it is the address of the string content after dynamic memory allocation. \ Therefore, if you want to copy a string, you can use <code>copyString()</code>.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Clear the Contents of the String</h2>
<p ><code>clearString()</code> is used to get the string content. This function has no return value. It requires one parameter: the address of the structure.</p>
<h2><a class="anchor" id="autotoc_md9"></a>
Copy the String</h2>
<p ><code>copyString()</code> is used to copy the string. The type of its return value is <code>string</code>. It requires one parameter: the address of the structure.</p>
<p >The string returned by this function is not the same address as the original string.</p>
<h2><a class="anchor" id="autotoc_md10"></a>
Find the Location of the String</h2>
<p >You can use <code>findstring()</code> to find the position of the matching string in the original string. The type of its return value is <code>unsigned int</code>. It requires two parameter: the address of the structure and the string to match. However, the string to match is of type <code>char*</code>. You can also think of it as the address pointed to by the character pointer, and there is a string at the location of this address.</p>
<p >If not found, <code>NO_FOUND</code> will be returned. If found, it will be retruned the position of the first character of the matching string in the original string.</p>
<h2><a class="anchor" id="autotoc_md11"></a>
Cut the String within the Specified Range</h2>
<p >Use <code>splitString()</code> to split a string. The type of its return value is <code>string</code>. It requires three parameter: the address of the structure, start position and end position.</p>
<p >This function will split all characters from the start position to the end position. This function will pack the characters in this range into a <code>string</code>.</p>
<h2><a class="anchor" id="autotoc_md12"></a>
Replace the Matching String in the Original String with a String</h2>
<p >Use <code>replaceString()</code> to replace the matching string in the original string with a string. The type of its return value is <code>bool</code>. It requires three parameter: the address of the structure, matching string and string to replace. \ The last two parameters are of type <code>char*</code>.</p>
<p >Returns <code>true</code> when the replacement succeeds, <code>false</code> otherwise.</p>
<h1><a class="anchor" id="autotoc_md13"></a>
Common Problems</h1>
<h3><a class="anchor" id="autotoc_md14"></a>
What happens if OSError is reported?</h3>
<p >All OSErrors in this library are due to dynamic memory application exceptions. Generally, the dynamic memory application exception is caused by insufficient memory.</p>
<h3><a class="anchor" id="autotoc_md15"></a>
Why is the value returned by find() a value much larger than the length of the string?</h3>
<p >That value is often the macro in <code>LCString.h</code> - <code>NO_FOUND</code>. This value is used to mark not found. However, if this value does not match the value of <code>NO_FOUND</code>, there may be some problems. You can choose to report this problem. Thank you.</p>
<h1><a class="anchor" id="autotoc_md16"></a>
Examples</h1>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;LCString.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main()</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">string</span> originalString = initString();</div>
<div class="line">    <span class="keywordtype">int</span> pos;</div>
<div class="line"> </div>
<div class="line">    addString(&amp;originalString, <span class="stringliteral">&quot;hello, world&quot;</span>);</div>
<div class="line">    addCharacter(&amp;originalString, <span class="charliteral">&#39;!&#39;</span>);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;#1 originalString: `%s`\n&quot;</span>, getString(&amp;originalString));</div>
<div class="line"> </div>
<div class="line">    pos = findString(&amp;originalString, <span class="stringliteral">&quot;llo&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (pos != NO_FOUND) </div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;#2 found it! the position in original string is %d!\n&quot;</span>, pos);</div>
<div class="line">    } </div>
<div class="line">    <span class="keywordflow">else</span> </div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;#3 no found...\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    replaceString(&amp;originalString, <span class="stringliteral">&quot;hello, &quot;</span>, <span class="stringliteral">&quot;Good morning, &quot;</span>);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;#4 originalString: `%s`\n&quot;</span>, getString(&amp;originalString));</div>
<div class="line"> </div>
<div class="line">    pos = findString(&amp;originalString, <span class="stringliteral">&quot;worldd&quot;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (pos != NO_FOUND) </div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;#5 found it! the position in original string is %d!\n&quot;</span>, pos);</div>
<div class="line">    } </div>
<div class="line">    <span class="keywordflow">else</span> </div>
<div class="line">    {</div>
<div class="line">        printf(<span class="stringliteral">&quot;#6 no found...\n&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;#7 The string length is %d.\n&quot;</span>, getLength(&amp;originalString));</div>
<div class="line"> </div>
<div class="line">    <span class="keywordtype">string</span> hello = splitString(&amp;originalString, 0, 11);</div>
<div class="line">    printf(<span class="stringliteral">&quot;#8 The string content of variable hello is `%s`.\n&quot;</span>, getString(&amp;hello));</div>
<div class="line">    </div>
<div class="line">    clearString(&amp;originalString);</div>
<div class="line">    addString(&amp;originalString, <span class="stringliteral">&quot;original string&quot;</span>);</div>
<div class="line"> </div>
<div class="line">    printf(<span class="stringliteral">&quot;#9 Its content is: `%s`\n&quot;</span>, getString(&amp;originalString));</div>
<div class="line"> </div>
<div class="line">    originalString = copyString(&amp;hello);</div>
<div class="line">    printf(<span class="stringliteral">&quot;#10 Its content is: `%s`\n&quot;</span>, getString(&amp;originalString));</div>
<div class="line"> </div>
<div class="line">    free(originalString.stringContent);</div>
<div class="line">    free(hello.stringContent);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
